generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model quiz {
  user_id   BigInt
  word_id   BigInt
  choice    String   @db.VarChar(20)
  create_at DateTime @default(now()) @db.DateTime(0)
  user      user     @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_USER_ON_QUIZ")
  word      word     @relation(fields: [word_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_WORD_ON_QUIZ")

  @@id([user_id, word_id])
  @@index([word_id], map: "FK_WORD_ON_QUIZ")
}

model user {
  id         BigInt @id @default(autoincrement())
  name       String @db.VarChar(30)
  account_id String @unique(map: "account_id") @db.VarChar(30)
  password   String @db.VarChar(60)
  quiz       quiz[]
  word       word[]
}

model word {
  id      BigInt @id @default(autoincrement())
  english String @db.VarChar(50)
  korean  String @db.VarChar(20)
  user_id BigInt
  quiz    quiz[]
  user    user   @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "FK_USER")

  @@unique([english, korean, user_id], map: "WORD_UNIQUE")
  @@index([user_id], map: "FK_USER")
}
